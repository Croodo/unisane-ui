/* Tailwind v4 + Unisane UI */
@import "tailwindcss";
@import "@unisane/tokens/unisane.css";

/* Source paths for Tailwind class scanning */
@source "../**/*.{ts,tsx,mdx}";
@source "../../../packages/ui/src/**/*.{ts,tsx}";
@source "../../../packages/data-table/src/**/*.{ts,tsx}";

/* ============================================================
   THEME CONFIGURATION (Single Source of Truth)

   Set your app's theme here. These CSS variables control
   the entire color system via OKLCH color science.
   ============================================================ */

/* Uses library defaults (blue theme) - no overrides needed */

/* ============================================================
   COLOR THEMES (via data-color-theme attribute)

   Usage: <html data-color-theme="green">

   Available themes (one per color family):
     blue, purple, pink, red, orange, yellow, green, cyan, neutral, black
   ============================================================ */

/* Blue - Default (hue: 240) */
:root[data-color-theme="blue"] {
  --hue: 240 !important;
  --chroma: 0.13 !important;
}

/* Purple (hue: 285) */
:root[data-color-theme="purple"] {
  --hue: 285 !important;
  --chroma: 0.14 !important;
}

/* Pink (hue: 340) */
:root[data-color-theme="pink"] {
  --hue: 340 !important;
  --chroma: 0.15 !important;
}

/* Red (hue: 25) */
:root[data-color-theme="red"] {
  --hue: 25 !important;
  --chroma: 0.16 !important;
}

/* Orange (hue: 55) */
:root[data-color-theme="orange"] {
  --hue: 55 !important;
  --chroma: 0.16 !important;
}

/* Yellow (hue: 85) */
:root[data-color-theme="yellow"] {
  --hue: 85 !important;
  --chroma: 0.14 !important;
}

/* Green (hue: 145) */
:root[data-color-theme="green"] {
  --hue: 145 !important;
  --chroma: 0.14 !important;
}

/* Cyan (hue: 195) */
:root[data-color-theme="cyan"] {
  --hue: 195 !important;
  --chroma: 0.12 !important;
}

/* Neutral - Monochrome with subtle warmth */
:root[data-color-theme="neutral"] {
  --hue: 60 !important;
  --chroma: 0.02 !important;
}

/* Black - Pure monochrome with dark primary buttons */
:root[data-color-theme="black"] {
  --hue: 0 !important;
  --chroma: 0 !important;
  --chroma-neutral: 0 !important;

  /* Remap primary to darker tones for true black buttons */
  --tone-primary: var(--ref-primary-20) !important;
  --tone-on-primary: var(--ref-primary-95) !important;
  --tone-primary-container: var(--ref-primary-90) !important;
  --tone-on-primary-container: var(--ref-primary-10) !important;

  /* Secondary-container uses tone-80 (darker gray) for contrast against surface-container (tone-90) */
  --tone-secondary: var(--ref-secondary-30) !important;
  --tone-on-secondary: var(--ref-secondary-95) !important;
  --tone-secondary-container: var(--ref-secondary-80) !important;
  --tone-on-secondary-container: var(--ref-secondary-20) !important;

  /* Tertiary-container also darker for consistency */
  --tone-tertiary: var(--ref-tertiary-30) !important;
  --tone-on-tertiary: var(--ref-tertiary-95) !important;
  --tone-tertiary-container: var(--ref-tertiary-80) !important;
  --tone-on-tertiary-container: var(--ref-tertiary-20) !important;
}

/* Black theme in dark mode */
:root.dark[data-color-theme="black"] {
  --tone-primary: var(--ref-primary-90) !important;
  --tone-on-primary: var(--ref-primary-10) !important;
  --tone-primary-container: var(--ref-primary-20) !important;
  --tone-on-primary-container: var(--ref-primary-90) !important;

  /* Secondary-container uses tone-30 (lighter) for contrast against surface-container (tone-12) */
  --tone-secondary: var(--ref-secondary-80) !important;
  --tone-on-secondary: var(--ref-secondary-10) !important;
  --tone-secondary-container: var(--ref-secondary-30) !important;
  --tone-on-secondary-container: var(--ref-secondary-90) !important;

  /* Tertiary dark mode */
  --tone-tertiary: var(--ref-tertiary-80) !important;
  --tone-on-tertiary: var(--ref-tertiary-10) !important;
  --tone-tertiary-container: var(--ref-tertiary-30) !important;
  --tone-on-tertiary-container: var(--ref-tertiary-90) !important;
}

/* ============================================================
   THEME MODIFIERS (optional - via HTML attributes)

   SCHEME (color strategy):
     data-scheme="tonal"        Full color (default)
     data-scheme="monochrome"   Pure grayscale
     data-scheme="neutral"      Low saturation, professional

   CONTRAST (accessibility):
     data-contrast="standard"   Default
     data-contrast="medium"     Boosted readability
     data-contrast="high"       WCAG AAA compliant

   DARK MODE:
     class="dark"               Enable dark mode

   DENSITY:
     data-density="compact"     Tighter spacing
     data-density="comfortable" More breathing room

   RADIUS:
     data-radius="sharp"        Sharper corners
     data-radius="soft"         Rounder corners

   Example: <html class="dark" data-scheme="neutral">
   ============================================================ */

/* ============================================================
   BASE STYLES
   ============================================================ */

@layer base {
  /* Prevent horizontal overflow on mobile */
  html,
  body {
    overflow-x: hidden;
    max-width: 100vw;
  }

}

/* ============================================================
   ANIMATIONS
   ============================================================ */

/* Ripple animation for touch feedback */
@keyframes ripple {
  from {
    opacity: 0.35;
    transform: scale(0);
  }
  to {
    opacity: 0;
    transform: scale(2);
  }
}

/* Stagger animation for list items */
@keyframes stagger-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Content enter animation for drawer content transitions */
@keyframes content-enter {
  from {
    opacity: 0;
    transform: translateX(-8px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* ============================================================
   UTILITY CLASSES
   ============================================================ */

@layer utilities {
  /* Z-index utilities for layering system */
  .z-modal {
    z-index: var(--z-modal, 3000);
  }

  /* Animation utilities */
  .animate-ripple {
    animation: ripple 600ms ease-out;
  }

  .animate-stagger {
    animation: stagger-in 300ms ease-out;
  }

  .animate-content-enter {
    animation: content-enter 200ms ease-out;
  }
}

/* Sidebar layout - applies margin only on desktop (840px+) */
/* Uses CSS variable set by SidebarInset component */
@media (min-width: 840px) {
  main[style*="--sidebar-margin"] {
    margin-left: var(--sidebar-margin);
  }
}

/* App header height for sticky positioning */
/* Mobile/Tablet: 64px (TopAppBar is position:fixed, h-16 = 64px, sticky must offset below it) */
/* Desktop: 0px (AppHeader scrolls with content, not fixed) */
:root {
  --app-header-height: 64px;
}

@media (min-width: 840px) {
  :root {
    --app-header-height: 0px;
  }
}
