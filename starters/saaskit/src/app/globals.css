/* Unisane SaaSKit - Global Styles with Unisane Design Tokens */
@import "tailwindcss";
@import "@unisane/tokens/unisane.css";

/* Content sources for Tailwind v4 to scan for class usage */
@source "../../src/**/*.{js,ts,jsx,tsx,mdx}";
@source "../../../../packages/ui/src/**/*.{js,ts,jsx,tsx,mdx}";
@source "../../../../packages/data-table/src/**/*.{js,ts,jsx,tsx,mdx}";

/* Dark mode variant */
@custom-variant dark (&:is(.dark *));

/* Ripple animation for Material Design interactions */
@keyframes ripple {
  from {
    opacity: 0.35;
    transform: scale(0);
  }
  to {
    opacity: 0;
    transform: scale(2);
  }
}

/* Stagger animation for list items */
@keyframes stagger-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Content enter animation for drawer/sheet transitions */
@keyframes content-enter {
  from {
    opacity: 0;
    transform: translateX(-8px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Accordion animations */
@keyframes accordion-down {
  from {
    height: 0;
  }
  to {
    height: var(--radix-accordion-content-height);
  }
}

@keyframes accordion-up {
  from {
    height: var(--radix-accordion-content-height);
  }
  to {
    height: 0;
  }
}

/* Theme inline - Map Unisane tokens to Tailwind utilities */
@theme inline {
  /* Font families */
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  /* Animations */
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-ripple: ripple 600ms ease-out;
  --animate-stagger: stagger-in 300ms ease-out;
  --animate-content-enter: content-enter 200ms ease-out;
}

/* App layout variables */
:root {
  /* App header height (used for sidebar and sticky content headers) */
  --app-header-h: 0px;
  /* Optional page-level sticky header (PageHeader) */
  --page-header-h: 0px;
  /* Default sticky inset for tables (set per scroll container) */
  --table-sticky-top: 0px;
  /* DataTable header offset */
  --data-table-header-offset: 0px;
}

@layer base {
  /* Remove default focus outline */
  *:focus {
    outline: none;
  }

  /* Apply custom focus ring only for keyboard navigation */
  *:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
  }

  /* Ensure focus is visible on interactive elements */
  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
  }

  /* Apply background and text colors to body */
  body {
    @apply bg-surface text-on-surface;
  }

  /* Border color defaults */
  * {
    border-color: var(--color-outline-variant);
  }
}

/* SidebarInset - applies margin-left from CSS variable on desktop (840px+) */
@media (min-width: 840px) {
  main[style*="--sidebar-margin"] {
    margin-left: var(--sidebar-margin);
  }
}

@layer utilities {
  /* Legacy sidebar inset class (can be removed if not used) */
  .sidebar-inset {
    margin-left: 0;
  }

  @media (min-width: 840px) {
    .sidebar-inset {
      margin-left: var(--sidebar-desktop-margin, 96px);
    }
  }

  /* Scrollbar utilities */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Ripple container */
  .ripple-container {
    position: relative;
    overflow: hidden;
  }

  /* Animation utilities */
  .animate-in {
    animation-fill-mode: both;
  }

  .animate-out {
    animation-fill-mode: both;
    animation-direction: reverse;
  }

  .animate-stagger {
    animation: stagger-in 300ms ease-out;
  }

  .animate-ripple {
    animation: ripple 600ms ease-out;
  }

  .animate-content-enter {
    animation: content-enter 200ms ease-out;
  }

  /* Z-index utilities for layering system */
  .z-modal {
    z-index: var(--z-modal, 3000);
  }
}
