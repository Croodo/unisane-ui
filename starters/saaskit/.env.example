# ============================================================================
# SaasKit Environment Configuration
# ============================================================================
# Copy this file to .env.local and fill in your values
# NEVER commit .env.local to version control!

# === CORE CONFIGURATION ===
APP_ENV=dev
ALLOWED_ORIGINS=http://localhost:3000
LOG_LEVEL=info
MONGODB_URI=mongodb://127.0.0.1:27017/saaskit_dev

# Optional: Switch database provider (default: mongo)
# DB_PROVIDER=postgres
# DB_PROVIDER=mysql

# === MySQL Configuration (when DB_PROVIDER=mysql) ===
# MYSQL_HOST=localhost
# MYSQL_PORT=3306
# MYSQL_USER=saaskit_user
# MYSQL_PASSWORD=your_mysql_password
# MYSQL_DATABASE=saaskit_dev

# === CACHE/STORE (choose ONE) ===
# Option 1: Vercel KV (recommended for Vercel deployments)
# KV_REST_API_URL=https://your-kv.upstash.io
# KV_REST_API_TOKEN=your_token_here
#
# Option 2: Redis (recommended for self-hosted)
# REDIS_URL=redis://localhost:6379
#
# Option 3: Memory store (development/testing only - NOT for production)
# USE_MEMORY_STORE=true

# === AUTHENTICATION - JWT ===
# For token verification (choose ONE):
# Option 1: JWKS URL (recommended for external auth providers)
# JWT_JWKS_URL=https://your-auth-provider/.well-known/jwks.json
#
# Option 2: Public key (for self-issued JWTs)
# JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\n...\n-----END PUBLIC KEY-----"

# For token signing (if self-issuing JWTs):
# JWT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----"
# JWT_KID=key-2024-01

# For key rotation:
# JWT_PUBLIC_KEY_PREV="..."
# JWT_KID_PREV=key-2023-12

# Session encryption (required):
# BETTER_AUTH_SECRET=your-random-secret-here
# SESSION_SECRET=another-random-secret-here

# === AUTHENTICATION - OAuth Providers ===
# Comma-separated list of enabled providers (google, github)
# OAUTH_PROVIDERS=google,github

# Google OAuth:
# GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=GOCSPX-your-google-secret

# GitHub OAuth:
# GITHUB_CLIENT_ID=your-github-client-id
# GITHUB_CLIENT_SECRET=your-github-secret

# === AUTHENTICATION - Behavior ===
AUTH_PASSWORD_ENABLED=true
# AUTH_OTP_ENABLED=false
# JWT_ACCESS_TTL_SEC=3600
# COOKIE_ACCESS_TTL_SEC=3600

# Cross-origin settings (for API on different domain):
# COOKIE_SAMESITE=lax
# COOKIE_DOMAIN=.example.com

# === EMAIL/MAIL ===
# Provider: resend | ses
# MAIL_PROVIDER=resend
# MAIL_FROM=YourApp <noreply@example.com>

# If using Resend:
# RESEND_API_KEY=re_your_api_key_here
# RESEND_WEBHOOK_SECRET=whsec_your_webhook_secret

# If using AWS SES:
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=AKIA...
# AWS_SECRET_ACCESS_KEY=your-secret-key
# SES_CONFIG_SET=your-config-set
# SES_SNS_TOPIC_ARN=arn:aws:sns:us-east-1:123456789:ses-bounces

# === BILLING ===
# Provider: stripe | razorpay
# BILLING_PROVIDER=stripe
# BILLING_CURRENCY=USD
# Available modes: subscription | credits | subscription_with_credits

# Stripe:
# STRIPE_SECRET_KEY=sk_test_your_stripe_key
# STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
# BILLING_PORTAL_RETURN_URL=http://localhost:3000/billing/portal-return

# Razorpay (alternative to Stripe):
# RAZORPAY_KEY_ID=rzp_test_your_key_id
# RAZORPAY_KEY_SECRET=your_key_secret
# RAZORPAY_WEBHOOK_SECRET=your_webhook_secret

# Plan/Price ID mapping (JSON):
# BILLING_PLAN_MAP_JSON={"stripe":{"pro":"price_123","business":"price_456"}}
# BILLING_TOPUP_MAP_JSON={"stripe":{"10-USD":"price_789"}}

# === CREDITS PRICING ===
# How many credits per major currency unit (JSON):
# CREDITS_PER_MAJOR_UNIT_JSON={"USD":10,"EUR":10,"INR":1}

# === STORAGE (S3) ===
# For file uploads and exports:
# STORAGE_BUCKET=your-s3-bucket-name
# AWS credentials (if not already set for SES above)
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=AKIA...
# AWS_SECRET_ACCESS_KEY=your-secret-key

# === WEBHOOKS ===
# Retention for inbound webhook events (days):

# === OPERATIONS & ALERTS ===
# ALERT_EMAIL=ops@example.com
# OUTBOX_ALERT_EMAIL=ops@example.com
# OUTBOX_DLQ_ALERT_MIN_INTERVAL_MIN=60
# BILLING_ALERT_EMAIL=billing@example.com

# === OBSERVABILITY ===
ENABLE_METRICS=false
# STATSD_HOST=localhost
# STATSD_PORT=8125
# STATSD_PREFIX=saaskit

# === PUBLIC URLs ===
# Base URL for email links and absolute URLs:
# PUBLIC_BASE_URL=http://localhost:3000

# Client-side API base URL (for browser SDK):
# NEXT_PUBLIC_API_BASE_URL=http://localhost:3000
# NEXT_PUBLIC_BILLING_CURRENCY=USD

# === OPENAPI ===
# Comma-separated server URLs for OpenAPI spec:
# OPENAPI_SERVER_URLS=http://localhost:3000

# === INNGEST (Background Jobs) ===
# Required for production Inngest execution/verification:
# INNGEST_EVENT_KEY=
# INNGEST_SIGNING_KEY=

# === EXTRACTION (optional providers) ===
# Google Cloud Vision OCR (used when Extraction OCR provider = google_vision):
# GOOGLE_VISION_API_KEY=

# OpenAI (used when Extraction mapping provider = openai):
# OPENAI_API_KEY=
# OPENAI_BASE_URL=https://api.openai.com
# OPENAI_MODEL=gpt-4o-mini

# PDF Rasterizer (recommended for reliable PDF->image conversion in Extraction preprocess):
# PDF_RASTERIZER_URL=https://your-rasterizer.example.com
# PDF_RASTERIZER_API_KEY=your-rasterizer-key

# === DEVELOPMENT ===
# Enable Pro features in OSS for local testing:
# SAASKIT_ENABLE_PRO_JOBS=false

# === TESTING ===
# Enable MongoDB integration tests (requires MongoMemoryServer):
# RUN_MONGO_TESTS=1
